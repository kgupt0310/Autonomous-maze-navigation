urdfFilePath = '/Users/kshitijgupta/Desktop/mycobot_pro_600_new/mycobot_pro_600.urdf';

robot = importrobot(urdfFilePath);

jointAngles = [
    1.392157, -2.582015, -1.511485, -0.649009, 1.564395, -1.778546;
    1.378047, -2.513058, -1.687187, -0.542171, 1.563970, -1.792650;
    1.456654, -2.486690, -1.758041, -0.498128, 1.566349, -1.714079;
    1.538398, -2.466303, -1.815101, -0.461716, 1.568852, -1.632372;
    1.535423, -2.413640, -1.977295, -0.352179, 1.568760, -1.635346;
    1.531850, -2.373515, -2.129644, -0.239947, 1.568651, -1.638917;
    1.527481, -2.348552, -2.273605, -0.120940, 1.568516, -1.643284;
    1.522020, -2.343966, -2.409706, 0.010588, 1.568349, -1.648743;
    1.402003, -2.343554, -2.342645, -0.056371, 1.564691, -1.768705;
    1.291470, -2.350678, -2.262028, -0.129008, 1.561399, -1.879193;
    1.319267, -2.373119, -2.133822, -0.235022, 1.562218, -1.851406;
    1.342291, -2.408559, -1.995944, -0.337649, 1.562901, -1.828391;
    1.256141, -2.435322, -1.909463, -0.396578, 1.560369, -1.914508; 
    1.176382,-2.469001,-1.810132,-0.461308,-1.558094,-1.994240;
    1.141596, -0.425259, -0.943123, -0.371601, -1.557126, -2.029016; 
    1.101056, -2.390981, -2.064272, -0.284153, -1.556019, -2.069545; 
    0.053525, -2.366361, -2.173966, -0.198346, -1.554752, -2.117064; 
    0.997533, -2.351663, -2.271937, -0.114134, -1.553306, -2.173046; 
    0.931409, -2.346846, -2.357380, -0.032298, -1.551670, -2.239160 
];


figure;
hold on;
axis equal;
grid on;
xlabel('X-axis');
ylabel('Y-axis');
zlabel('Z-axis');
view(3);

homeConfig = homeConfiguration(robot);

for i = 1:size(jointAngles, 1)
    for j = 1:length(homeConfig)
        homeConfig(j).JointPosition = jointAngles(i,j);
    end
    
    show(robot , homeConfig);
    
    endEffectorName = 'link6'; 
    endEffectorTransform = getTransform(robot , homeConfig , endEffectorName); % Get transformation matrix
    
    x_end = endEffectorTransform(1 , 4);
    y_end = endEffectorTransform(2 , 4);
    
    plot3(x_end , y_end , 0 , 'ko' , 'MarkerSize' , 8 , 'MarkerFaceColor' , 'k'); % End-effector
    
    pause(2);
end

hold off;
